# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram –±–æ—Ç–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–ª –ø–∞—Ä–æ–ª–∏ –≤ —Ç–æ–º –≤–∏–¥–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∏—Å–ª–∞).

**–†–µ—à–µ–Ω–∏–µ:** –ë–æ—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–µ `password` —Ç–æ—á–Ω–æ —Ç–∞–∫, –∫–∞–∫ –æ–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Firebase. –ï—Å–ª–∏ –≤—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä, –ø–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ —Ö–µ—à–∞ (—á–∏—Å–ª–æ). –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è - –≤—ã –≤–∏–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã.

### 2. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –∑–∞–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç –¥–∞–∂–µ –ø–æ—Å–ª–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

**–ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –î–û –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è
2. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –æ–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: `blockedUsers/{username}` –∏ `accounts/{username}/blocked`
3. –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `online: false` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ç–µ–ø–µ—Ä—å:**
```
1. –ë–æ—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ blockedUsers/{username}: { blocked: true, ... }
2. –ë–æ—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç accounts/{username}/blocked: { admin: true }
3. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞:
   - –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è blockedUsers
   - –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è accounts.blocked.admin
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```

### 3. –ö–Ω–æ–ø–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
**–î–æ–±–∞–≤–ª–µ–Ω–æ:** –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –≤–º–µ—Å—Ç–æ "‚ö´ –í —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å"

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
```bash
cd c:\RUCHATMESSEN\functions
npm run start:bot
```

### –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É @ruchat_messenger_bot –∫–æ–º–∞–Ω–¥—É `/start`
2. –ù–∞–∂–º–∏—Ç–µ "üë• –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã"
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: `20091326`
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. –ù–∞–∂–º–∏—Ç–µ "‚ö´ –í —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫"
6. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ: "‚úÖ –î–∞"

### –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–º–µ—á–µ–Ω üö´)
2. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É:
1. –ù–∞–∂–º–∏—Ç–µ "‚ö´ –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫" - —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –ß–µ—Ä–µ–∑ Firebase Console:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://console.firebase.google.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí Realtime Database
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å `blockedUsers/{username}` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å `blocked: true`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ index.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å
4. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: "üö´ –ê–ö–ö–ê–£–ù–¢ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù"

## üêõ –ï—Å–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ Firebase:
```json
{
  "rules": {
    "blockedUsers": {
      "$username": {
        ".read": true,
        ".write": false
      }
    }
  }
}
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞:
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
‚úÖ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω: username
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:
```bash
cd functions
node test-block-user.js <username>
```

## üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫—É: ruchat.offical@mail.ru
